<div class="popup_overlay" [ngClass]="{'active':showpopupAddGroup}">
    <div class="popup_group">
        <div class="icon" (click)="closePopup()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.9 1.49998C15.3 1.64998 17.55 2.84998 19.2 4.49998C21.15 6.59998 22.2 9.14998 22.2 12.15C22.2 14.55 21.3 16.8 19.8 18.75C18.3 20.55 16.2 21.9 13.8 22.35C11.4 22.8 9 22.5 6.9 21.3C4.8 20.1 3.15 18.3 2.25 16.05C1.35 13.8 1.2 11.25 1.95 8.99998C2.7 6.59998 4.05 4.64998 6.15 3.29998C8.1 1.94998 10.5 1.34998 12.9 1.49998ZM13.65 20.85C15.6 20.4 17.4 19.35 18.75 17.7C19.95 16.05 20.7 14.1 20.55 12C20.55 9.59998 19.65 7.19998 18 5.54998C16.5 4.04998 14.7 3.14998 12.6 2.99998C10.65 2.84998 8.55 3.29998 6.9 4.49998C5.25 5.69998 4.05 7.34998 3.45 9.44998C2.85 11.4 2.85 13.5 3.75 15.45C4.65 17.4 6 18.9 7.8 19.95C9.6 21 11.7 21.3 13.65 20.85ZM11.85 11.25L15.45 7.49998L16.5 8.54998L12.9 12.3L16.5 16.05L15.45 17.1L11.85 13.35L8.25 17.1L7.2 16.05L10.8 12.3L7.2 8.54998L8.25 7.49998L11.85 11.25Z" fill="black"/>
</svg>

        </div>
        <h3>المجموعات</h3>


        <form [formGroup]="groupForm" (ngSubmit)="onSubmit()">
            <div class="row">
                <label for="groupName" class="mb-2">اسم المجموعه</label>
                <div class="col-sm-9">
                    <!-- <div class="mb-3"> -->
                        
                        <input type="text" class="form-control" id="groupName"  placeholder="اسم المجموعة"  formControlName="groupName">
                    

                </div>
                <div class="col-sm-3">
                    <div class="btn_add_reset">
                         <button type="sumbit" data-button="send"
            [ngClass]="{'btnEdit':this.btnaddAndUpdate=='update','btnAdd':this.btnaddAndUpdate=='add'}">{{btnaddAndUpdate
            == 'add' ? 'اضافه' : 'تعديل'}}</button>
                    </div>
                </div>

                        <ng-container *ngIf="groupForm.controls['groupName'].invalid && groupForm.controls['groupName'].touched">
                <small class="error_msg_form" *ngIf="groupForm.controls['groupName'].hasError('required')">اسم المجموعه
                    مطلوب</small>
                <small class="error_msg_form" *ngIf="groupForm.controls['groupName'].hasError('minlength')">يجب ان يكون
                    اسم المجموعه اكثر من 3 حروف</small>
            </ng-container>
            </div>

        </form>

        <div class="table-responsive">
            <table >
                <thead>
                <tr>
                    <th>#</th>
                    <th scope="col">اسم المجموعة</th>
                    <th scope="col">الادوات</th>
                </tr>
               </thead>
               <tbody>
                @for (item of groupsData.rows; track $index) {
            <tr>
                <td>{{ ((pageIndex - 1) * pageSize) + ($index + 1) }}</td>
                <td>{{item.groupName}}</td>
                <td>
                    <div class="btn_edit">
                        <button type="button" (click)="getDataUpdate(item.id)" data-button="edit"><svg width="33"
                                height="26" viewBox="0 0 33 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect y="0.5" width="33.0001" height="25.0001" rx="2" fill="#E0ECE1" />
                                <path
                                    d="M11 8.5H10C9.46957 8.5 8.96086 8.71071 8.58579 9.08579C8.21071 9.46086 8 9.96957 8 10.5V19.5C8 20.0304 8.21071 20.5391 8.58579 20.9142C8.96086 21.2893 9.46957 21.5 10 21.5H19C19.5304 21.5 20.0391 21.2893 20.4142 20.9142C20.7893 20.5391 21 20.0304 21 19.5V18.5"
                                    stroke="#16601A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                    d="M20 6.50011L23 9.50011M24.385 8.08511C24.7788 7.69126 25.0001 7.15709 25.0001 6.60011C25.0001 6.04312 24.7788 5.50895 24.385 5.11511C23.9912 4.72126 23.457 4.5 22.9 4.5C22.343 4.5 21.8088 4.72126 21.415 5.11511L13 13.5001V16.5001H16L24.385 8.08511Z"
                                    stroke="#16601A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                        <button type="button" (click)="deleteData(item.id)" data-button="delete"><svg width="33"
                                height="26" viewBox="0 0 33 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect y="0.5" width="33" height="25" rx="2" fill="#FFE5E5" />
                                <path
                                    d="M23.5 5H20L19 4H14L13 5H9.5V7H23.5M10.5 20C10.5 20.5304 10.7107 21.0391 11.0858 21.4142C11.4609 21.7893 11.9696 22 12.5 22H20.5C21.0304 22 21.5391 21.7893 21.9142 21.4142C22.2893 21.0391 22.5 20.5304 22.5 20V8H10.5V20Z"
                                    fill="#FF3D00" />
                            </svg>
                        </button>
                    </div>
                </td>
            </tr>
            }@empty {
            <tr>
                <td class="empty-cell" colspan="3">
                    <app-emptytable></app-emptytable>
                </td>
            </tr>
            }
               </tbody>

               </table>

        </div>
    </div>
</div>

<app-confirm-delete [isVisible]="showDelete" (onDelete)="deleteConfirmed($event)" [itemId]="this.deleteId"
    (toggleModal)="onClose()"></app-confirm-delete>
